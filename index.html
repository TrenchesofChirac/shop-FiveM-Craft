<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>FiveM Craft - Boutique</title>
<style>
  /* RESET */
  * {
    box-sizing: border-box;
    margin: 0; padding: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }

  body {
    background: #1a1a1a;
    color: #eee;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  header {
    display: flex;
    align-items: center;
    background: #111;
    padding: 15px 30px;
    justify-content: space-between;
    border-bottom: 3px solid #c8102e;
  }

  header .logo img {
    height: 50px;
    cursor: pointer;
  }

  header nav {
    display: flex;
    gap: 15px;
  }

  /* Langue boutons */
  .lang-btn {
    background: transparent;
    border: none;
    cursor: pointer;
    opacity: 0.6;
    transition: opacity 0.3s ease;
    width: 28px;
    height: 19px;
  }

  .lang-btn.active, .lang-btn:hover {
    opacity: 1;
  }

  .lang-btn img {
    width: 100%;
    height: auto;
    display: block;
  }

  main {
    flex-grow: 1;
    padding: 40px 20px;
    max-width: 1200px;
    margin: 0 auto;
  }

  /* Page accueil */
  #home {
    text-align: center;
    margin-top: 80px;
  }

  #home h1 {
    font-size: 3rem;
    margin-bottom: 25px;
    color: #c8102e;
  }

  #home button {
    background: #c8102e;
    border: none;
    padding: 15px 35px;
    font-size: 1.2rem;
    color: #fff;
    cursor: pointer;
    border-radius: 6px;
    transition: background 0.3s ease;
  }
  #home button:hover {
    background: #a00b21;
  }

  /* Boutique */
  #store {
    display: none;
    flex-direction: column;
  }

  /* Cat√©gories */
  .categories {
    display: flex;
    justify-content: center;
    gap: 25px;
    margin-bottom: 40px;
  }

  .categories button {
    background: transparent;
    border: 2px solid #c8102e;
    padding: 10px 25px;
    font-size: 1.1rem;
    color: #eee;
    border-radius: 30px;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .categories button.active,
  .categories button:hover {
    background: #c8102e;
    color: #fff;
    border-color: #a00b21;
  }

  /* Liste produits en colonne */
  #product-list {
    display: flex;
    flex-direction: column;
    gap: 30px;
  }

  .product-item {
    background: #222;
    border-radius: 12px;
    display: flex;
    gap: 20px;
    padding: 20px;
    box-shadow: 0 0 15px rgba(200,10,30,0.3);
    transition: background 0.3s ease;
  }

  .product-item:hover {
    background: #2e0000;
  }

  .product-img {
    width: 220px;
    height: 130px;
    object-fit: cover;
    border-radius: 10px;
    flex-shrink: 0;
  }

  .product-info {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
  }

  .product-info h3 {
    margin-bottom: 10px;
    color: #ff4b5c;
  }

  .description {
    font-size: 0.95rem;
    margin-bottom: 12px;
    color: #ccc;
    flex-grow: 1;
  }

  .product-details p {
    font-size: 0.85rem;
    color: #bbb;
    margin-bottom: 4px;
  }

  .product-details strong {
    color: #e63946;
  }

  .product-info button {
    align-self: flex-start;
    margin-top: auto;
    background: #c8102e;
    border: none;
    padding: 10px 20px;
    color: #fff;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    font-size: 1rem;
    transition: background 0.3s ease;
  }

  .product-info button:hover {
    background: #a00b21;
  }

  /* Modal */
  #modal {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.85);
    display: none;
    justify-content: center;
    align-items: center;
    padding: 30px;
    z-index: 1000;
  }

  #modal.active {
    display: flex;
  }

  #modal .modal-content {
    background: #111;
    border-radius: 15px;
    max-width: 900px;
    width: 100%;
    color: #eee;
    overflow-y: auto;
    max-height: 90vh;
    box-shadow: 0 0 40px rgba(200,10,30,0.7);
    position: relative;
    padding: 25px 30px 40px 30px;
  }

  #modal .close-btn {
    position: absolute;
    top: 15px;
    right: 20px;
    background: transparent;
    border: none;
    font-size: 28px;
    color: #c8102e;
    cursor: pointer;
    font-weight: bold;
  }
  #modal .close-btn:hover {
    color: #ff4b5c;
  }

  #modal .modal-header {
    display: flex;
    gap: 25px;
    margin-bottom: 20px;
  }

  #modal .modal-img {
    flex-shrink: 0;
    width: 280px;
    height: 160px;
    border-radius: 12px;
    object-fit: cover;
    box-shadow: 0 0 15px rgba(200,10,30,0.8);
  }

  #modal .modal-info {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
  }

  #modal .modal-info h2 {
    color: #ff4b5c;
    margin-bottom: 10px;
  }

  #modal .modal-info p.desc {
    font-size: 1rem;
    color: #ccc;
    margin-bottom: 18px;
    line-height: 1.4;
  }

  #modal .modal-details p {
    margin-bottom: 6px;
    font-size: 0.9rem;
    color: #bbb;
  }

  #modal .modal-details strong {
    color: #e63946;
  }

  #modal iframe {
    margin-top: 25px;
    width: 100%;
    height: 320px;
    border-radius: 15px;
    border: none;
    box-shadow: 0 0 30px rgba(200,10,30,0.6);
  }

  #modal .order-btn {
    margin-top: 30px;
    display: inline-block;
    background: #c8102e;
    padding: 14px 40px;
    color: white;
    text-decoration: none;
    font-weight: 700;
    border-radius: 10px;
    font-size: 1.1rem;
    transition: background 0.3s ease;
  }

  #modal .order-btn:hover {
    background: #a00b21;
  }

  /* Responsive */
  @media (max-width: 900px) {
    .product-item {
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    .product-img {
      width: 100%;
      max-width: 320px;
      height: 180px;
    }
    .product-info {
      margin-top: 15px;
    }

    #modal .modal-header {
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    #modal .modal-img {
      width: 100%;
      max-width: 320px;
      height: 180px;
    }
    #modal iframe {
      height: 220px;
    }
  }

</style>
</head>
<body>

<header>
  <div class="logo" tabindex="0" aria-label="Logo FiveM Craft">
    <!-- Remplace l'URL ici par le chemin vers ton logo -->
    <img src="file:///C:/Users/Pc/Pictures/ChatGPT%20Image%202%20ao%C3%BBt%202025,%2015_18_53.png" alt="Logo FiveM Craft" />
    <h1>FiveM Craft</h1>
  </div>
  <nav aria-label="S√©lecteur de langue">
    <button class="lang-btn active" id="lang-fr" aria-pressed="true" aria-label="Fran√ßais">
      <img src="https://flagcdn.com/w20/fr.png" alt="Drapeau fran√ßais" />
    </button>
    <button class="lang-btn" id="lang-en" aria-pressed="false" aria-label="English">
      <img src="https://flagcdn.com/w20/gb.png" alt="Flag English" />
    </button>
  </nav>
</header>

<main>
  <!-- Page d'accueil -->
  <section id="home" aria-label="Page d'accueil">
    <h1>FiveM Craft</h1>
    <h1>FR : Merci de passer ici ! <img src="https://twemoji.maxcdn.com/v/latest/72x72/1f1eb-1f1f7.png" alt="üá´üá∑" width="20" height="15" /> | <img src="https://twemoji.maxcdn.com/v/latest/72x72/1f1ec-1f1e7.png" alt="üá¨üáß" width="20" height="15" /> Changez la langue en cliquant sur les drapeaux en haut √† droite.</h1>
    <h1>EN : Thank you for stopping by! <img src="https://twemoji.maxcdn.com/v/latest/72x72/1f1eb-1f1f7.png" alt="üá´üá∑" width="20" height="15" /> | <img src="https://twemoji.maxcdn.com/v/latest/72x72/1f1ec-1f1e7.png" alt="üá¨üáß" width="20" height="15" /> Change the language by clicking the flags at the top right.
   
      <button id="go-to-store" aria-describedby="desc-go-to-store">Acc√©der √† la boutique</button>

    <p id="desc-go-to-store" hidden></p>
  </section>

  <!-- Boutique -->
  <section id="store" aria-label="Boutique des scripts et mappings">
    <nav class="categories" role="tablist" aria-label="Cat√©gories">
      <button class="active" role="tab" aria-selected="true" data-cat="all" data-lang="all">Tout</button>
      <button role="tab" aria-selected="false" data-cat="script" data-lang="script">Script</button>
      <button role="tab" aria-selected="false" data-cat="mapping" data-lang="mapping">Mapping</button>
    </nav>

    <div id="product-list" role="list" aria-live="polite" aria-atomic="true">
      <!-- Produits g√©n√©r√©s dynamiquement ici -->
    </div>
  </section>

  <!-- Modale d√©tails produit -->
  <div id="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-describedby="modal-desc">
    <div class="modal-content">
      <button class="close-btn" aria-label="Fermer la fen√™tre">&times;</button>
      <div class="modal-header">
        <img src="" alt="" class="modal-img" />
        <div class="modal-info">
          <h2 id="modal-title"></h2>
          <p class="desc" id="modal-desc"></p>
          <div class="modal-details">
            <p><strong id="label-creator">Cr√©ateur :</strong> <span id="modal-creator"></span></p>
            <p><strong id="label-framework">Framework :</strong> <span id="modal-framework"></span></p>
            <p><strong id="label-date">Date :</strong> <span id="modal-date"></span></p>
          </div>
          <a href="#" target="_blank" class="order-btn" id="modal-order-btn" rel="noopener noreferrer" aria-label="Commander ce produit">Commander</a>
        </div>
      </div>
      <iframe src="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen title="Vid√©o de pr√©sentation"></iframe>
    </div>
  </div>
</main>

<script>
(() => {
  const homeSection = document.getElementById('home');
  const storeSection = document.getElementById('store');
  const productList = document.getElementById('product-list');
  const modal = document.getElementById('modal');
  const modalImg = modal.querySelector('.modal-img');
  const modalTitle = document.getElementById('modal-title');
  const modalDesc = document.getElementById('modal-desc');
  const modalCreator = document.getElementById('modal-creator');
  const modalFramework = document.getElementById('modal-framework');
  const modalDate = document.getElementById('modal-date');
  const modalOrderBtn = document.getElementById('modal-order-btn');
  const modalVideo = modal.querySelector('iframe');
  const modalCloseBtn = modal.querySelector('.close-btn');
  const categoryButtons = [...document.querySelectorAll('.categories button')];
  const langButtons = {
    fr: document.getElementById('lang-fr'),
    en: document.getElementById('lang-en')
  };
  const goToStoreBtn = document.getElementById('go-to-store');

  // Produits (exemple) ‚Äî ajoute/modifie ici tes produits
  const products = [
    {
      id: 1,
      type: 'script',
      name: {
        fr: 'Syst√®me de V√©hicule Avanc√©',
        en: 'Advanced Vehicle System'
      },
      description: {
        fr: "Un script complet pour g√©rer les v√©hicules avec interface, garages, r√©parations, et custom.",
        en: "A complete script to manage vehicles with UI, garages, repairs, and customization."
      },
      creator: 'FiveM Craft',
      framework: 'ESX',
      date: '2025-07-15',
      image: 'https://i.imgur.com/1fZ9HqD.jpg',
      video: 'https://www.youtube.com/embed/0p3Z9k1zGqI',
      orderUrl: 'https://discord.gg/4d5GhvWH'
    },
    {
      id: 2,
      type: 'mapping',
      name: {
        fr: 'Mapping Luxueux Appartement L.A.',
        en: 'Luxurious LA Apartment Mapping'
      },
      description: {
        fr: "Un appartement haut de gamme pour vos serveurs RP FiveM.",
        en: "A high-end apartment for your FiveM RP servers."
      },
      creator: 'FiveM Craft',
      framework: 'N/A',
      date: '2025-06-10',
      image: 'https://i.imgur.com/QnX34Gl.jpg',
      video: 'https://www.youtube.com/embed/jTfK7pjqPP8',
      orderUrl: 'https://discord.gg/4d5GhvWH'
    },
    {
      id: 3,
      type: 'script',
      name: {
        fr: 'Menu Admin Complet',
        en: 'Full Admin Menu'
      },
      description: {
        fr: "Un menu d'administration complet et professionnel pour g√©rer votre serveur facilement.",
        en: "A complete and professional admin menu to easily manage your server."
      },
      creator: 'FiveM Craft',
      framework: 'QBcore',
      date: '2025-07-01',
      image: 'https://i.imgur.com/KvZEVyJ.jpg',
      video: 'https://www.youtube.com/embed/Om5g41B3bfE',
      orderUrl: 'https://discord.gg/4d5GhvWH'
    }
  ];

  // Langue courante, par d√©faut fran√ßais
  let currentLang = 'fr';

  // √âtat cat√©gorie
  let currentCategory = 'all';

  // Texte multilangue pour cat√©gories et labels
  const texts = {
    fr: {
      categories: {
        all: 'Tout',
        script: 'Script',
        mapping: 'Mapping'
      },
      labels: {
        creator: 'Cr√©ateur :',
        framework: 'Framework :',
        date: 'Date :',
        order: 'Commander',
        homeTitle: 'FiveM Craft',
        homeBtn: 'Acc√©der √† la boutique'
      }
    },
    en: {
      categories: {
        all: 'All',
        script: 'Script',
        mapping: 'Mapping'
      },
      labels: {
        creator: 'Creator:',
        framework: 'Framework:',
        date: 'Date:',
        order: 'Order',
        homeTitle: 'FiveM Craft',
        homeBtn: 'Go to Store'
      }
    }
  };

  // Met √† jour les textes statiques selon la langue
  function updateStaticTexts() {
    // Header aria-label (logo)
    document.querySelector('.logo').setAttribute('aria-label', currentLang === 'fr' ? 'Logo FiveM Craft' : 'FiveM Craft Logo');

    // Bouton page accueil
    goToStoreBtn.textContent = texts[currentLang].labels.homeBtn;

    // Cat√©gories boutons
    categoryButtons.forEach(btn => {
      const cat = btn.getAttribute('data-cat');
      btn.textContent = texts[currentLang].categories[cat];
      btn.setAttribute('data-lang', cat);
      btn.setAttribute('aria-selected', btn.classList.contains('active') ? 'true' : 'false');
    });

    // Modal labels
    document.getElementById('label-creator').textContent = texts[currentLang].labels.creator;
    document.getElementById('label-framework').textContent = texts[currentLang].labels.framework;
    document.getElementById('label-date').textContent = texts[currentLang].labels.date;
    modalOrderBtn.textContent = texts[currentLang].labels.order;

    // Page d'accueil titre
    document.querySelector('#home h1').textContent = texts[currentLang].labels.homeTitle;
  }

  // Affiche la liste des produits filtr√©s et traduits
  function renderProducts() {
    // Filtrer produits
    let filtered = currentCategory === 'all'
      ? products
      : products.filter(p => p.type === currentCategory);

    productList.innerHTML = '';
    if(filtered.length === 0){
      productList.innerHTML = `<p style="text-align:center; color:#ff4b5c; font-weight:700;">${currentLang === 'fr' ? 'Aucun produit disponible.' : 'No products available.'}</p>`;
      return;
    }
    filtered.forEach(prod => {
      const item = document.createElement('article');
      item.className = 'product-item';
      item.setAttribute('role', 'listitem');
      item.setAttribute('tabindex', '0');

      item.innerHTML = `
        <img src="${prod.image}" alt="${prod.name[currentLang]}" class="product-img" />
        <div class="product-info">
          <h3>${prod.name[currentLang]}</h3>
          <p class="description">${prod.description[currentLang]}</p>
          <div class="product-details">
            <p><strong>${texts[currentLang].labels.creator}</strong> ${prod.creator}</p>
            <p><strong>${texts[currentLang].labels.framework}</strong> ${prod.framework}</p>
            <p><strong>${texts[currentLang].labels.date}</strong> ${prod.date}</p>
          </div>
          <button aria-label="${texts[currentLang].labels.order} ${prod.name[currentLang]}" data-id="${prod.id}">${texts[currentLang].labels.order}</button>
        </div>
      `;

      // Click bouton d√©tail produit
      item.querySelector('button').addEventListener('click', () => openModal(prod.id));
      // Accessible clavier ouvre aussi modal sur Enter
      item.addEventListener('keydown', e => {
        if(e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          openModal(prod.id);
        }
      });

      productList.appendChild(item);
    });
  }

  // Ouvre la modale avec le produit correspondant
  function openModal(id) {
    const prod = products.find(p => p.id === id);
    if (!prod) return;

    modalImg.src = prod.image;
    modalImg.alt = prod.name[currentLang];
    modalTitle.textContent = prod.name[currentLang];
    modalDesc.textContent = prod.description[currentLang];
    modalCreator.textContent = prod.creator;
    modalFramework.textContent = prod.framework;
    modalDate.textContent = prod.date;
    modalOrderBtn.href = prod.orderUrl;
    modalOrderBtn.setAttribute('aria-label', `${texts[currentLang].labels.order} ${prod.name[currentLang]}`);
    // On ajoute autoplay=1 pour que la vid√©o d√©marre √† l'ouverture
    const videoUrl = prod.video + (prod.video.includes('?') ? '&' : '?') + 'autoplay=1&mute=1';
    modalVideo.src = videoUrl;

    modal.classList.add('active');
    // Focus sur bouton close pour accessibilit√©
    modalCloseBtn.focus();

    // Pour bloquer scroll en arri√®re-plan
    document.body.style.overflow = 'hidden';
  }

  // Ferme la modale
  function closeModal() {
    modal.classList.remove('active');
    modalVideo.src = '';
    document.body.style.overflow = '';
  }

  // Changement cat√©gorie boutique
  function switchCategory(cat) {
    if(currentCategory === cat) return;
    currentCategory = cat;

    categoryButtons.forEach(btn => {
      const isActive = btn.getAttribute('data-cat') === cat;
      btn.classList.toggle('active', isActive);
      btn.setAttribute('aria-selected', isActive ? 'true' : 'false');
    });

    renderProducts();
  }

  // Change langue
  function switchLanguage(lang) {
    if(currentLang === lang) return;
    currentLang = lang;

    // Mise √† jour active boutons langue
    Object.entries(langButtons).forEach(([key, btn]) => {
      const active = key === lang;
      btn.classList.toggle('active', active);
      btn.setAttribute('aria-pressed', active ? 'true' : 'false');
    });

    // Mise √† jour textes statiques
    updateStaticTexts();

    // Mise √† jour cat√©gories boutons avec texte traduction
    categoryButtons.forEach(btn => {
      const cat = btn.getAttribute('data-cat');
      btn.textContent = texts[currentLang].categories[cat];
    });

    // Mise √† jour produits visibles
    renderProducts();

    // Mise √† jour bouton accueil
    goToStoreBtn.textContent = texts[currentLang].labels.homeBtn;
  }

  // Passage page accueil -> boutique
  function goToStore() {
    homeSection.style.display = 'none';
    storeSection.style.display = 'flex';
    goToStoreBtn.blur();
    // Focus premier bouton cat√©gorie
    categoryButtons[0].focus();
    renderProducts();
  }

  // Evenements

  // Bouton page accueil
  goToStoreBtn.addEventListener('click', goToStore);
  goToStoreBtn.addEventListener('keydown', e => {
    if(e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      goToStore();
    }
  });

  // Cat√©gories boutique
  categoryButtons.forEach(btn => {
    btn.addEventListener('click', () => switchCategory(btn.getAttribute('data-cat')));
  });

  // Boutons langue
  langButtons.fr.addEventListener('click', () => switchLanguage('fr'));
  langButtons.en.addEventListener('click', () => switchLanguage('en'));

  // Fermer modal
  modalCloseBtn.addEventListener('click', closeModal);
  modal.addEventListener('click', e => {
    if(e.target === modal) closeModal();
  });

  // Fermer modale au clavier (Echap)
  document.addEventListener('keydown', e => {
    if(e.key === 'Escape' && modal.classList.contains('active')) {
      closeModal();
    }
  });

  // Initialisation
  updateStaticTexts();
})();
</script>

</body>
</html>
